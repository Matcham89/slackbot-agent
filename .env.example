# ============================================================================
# SLACK CREDENTIALS (Required for both deployment methods)
# ============================================================================
# Get these from https://api.slack.com/apps
SLACK_BOT_TOKEN=xoxb-your-bot-token-here
SLACK_APP_TOKEN=xapp-your-app-token-here

# ============================================================================
# DEPLOYMENT METHOD CONFIGURATION
# ============================================================================
# Choose ONE of the two methods below and uncomment the relevant section

# ----------------------------------------------------------------------------
# METHOD 1: Single Bot Per Cluster (Recommended for simple deployments)
# ----------------------------------------------------------------------------
# Deploy one bot instance per cluster. Bot connects directly to Kagent
# controller via A2A protocol (port 8083).
#
# When to use:
# - You want isolated bot instances for each cluster
# - Each cluster has its own Slack bot (e.g., @kagent-test, @kagent-prod)
# - Simple setup with no AgentGateway required
#
# Deployment: k8s-deployment-single-cluster.yaml OR local dev with port-forward
# Documentation: KUBERNETES.md, LOCAL_DEV.md

ENABLE_MULTI_CLUSTER=false

# For local development (with kubectl port-forward):
KAGENT_A2A_URL=http://localhost:8083/api/a2a/kagent/k8s-agent

# For Kubernetes deployment (automatically set in k8s-deployment-single-cluster.yaml):
# KAGENT_BASE_URL=http://kagent-controller.kagent.svc.cluster.local:8083
# KAGENT_NAMESPACE=kagent
# KAGENT_AGENT_NAME=k8s-agent

# ----------------------------------------------------------------------------
# METHOD 2: Multi-Cluster via AgentGateway (Advanced)
# ----------------------------------------------------------------------------
# Deploy ONE bot on a middleman machine that routes to multiple clusters
# via AgentGateway (port 8080). Users specify cluster in messages.
#
# When to use:
# - You want ONE Slack bot for all clusters (@kagent)
# - Users specify cluster keywords (test, dev, prod) in messages
# - Central management from one bot instance
#
# Requirements: AgentGateway deployed on each cluster
# Deployment: k8s-deployment-multi-cluster.yaml OR laptop/server
# Documentation: LAPTOP_SERVER_SETUP.md

# Uncomment to enable multi-cluster mode:
# ENABLE_MULTI_CLUSTER=true

# Kagent namespace (must be same across all clusters)
# KAGENT_NAMESPACE=kagent

# Clusters to manage (comma-separated, used for keyword detection)
# KAGENT_CLUSTERS=test,dev

# Default cluster when no keyword detected
# KAGENT_DEFAULT_CLUSTER=test

# Agent name pattern (must be same across all clusters)
# KAGENT_AGENT_PATTERN=k8s-agent

# AgentGateway endpoint for each cluster (port 8080)
# KAGENT_TEST_BASE_URL=http://192.168.1.200:8080
# KAGENT_DEV_BASE_URL=http://192.168.1.201:8080
# KAGENT_PROD_BASE_URL=http://192.168.1.202:8080

# ============================================================================
# HOW IT WORKS
# ============================================================================
#
# Method 1 (Single Bot Per Cluster):
#   Slack → Bot (in cluster) → Kagent Controller :8083 → k8s-agent
#
# Method 2 (Multi-Cluster):
#   Slack → Bot (laptop/server) → AgentGateway :8080 → Kagent Controller → k8s-agent
#                                        ↓
#                        Routes based on keyword (test/dev/prod)
#
# Multi-cluster keyword detection examples:
#   "@kagent list pods in test cluster" → routes to test
#   "@kagent check dev namespace"       → routes to dev
#   "@kagent show deployments"          → uses default cluster
#
# ============================================================================
